{"format_version":"1.2","terraform_version":"1.6.6","variables":{"chart_path":{"value":"helm/app"},"enable_gitops":{"value":true},"environment":{"value":"dryrun"},"name_prefix":{"value":"gitops"},"project":{"value":"gitops-argocd"},"repo_url":{"value":"https://github.com/nickgulrajani/gitops-rollback"}},"planned_values":{"outputs":{"gitops_summary":{"sensitive":false,"type":["object",{"chart_path":"string","namespaces":["tuple",["string","string"]],"prod_file":"string","project_file":"string","repo_url":"string","staging_file":"string"}],"value":{"chart_path":"helm/app","namespaces":["apps-staging","apps-prod"],"prod_file":"./out/app-prod.yaml","project_file":"./out/argocd-project.yaml","repo_url":"https://github.com/nickgulrajani/gitops-rollback","staging_file":"./out/app-staging.yaml"}}},"root_module":{"resources":[{"address":"local_file.app_prod_yaml","mode":"managed","type":"local_file","name":"app_prod_yaml","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"\"apiVersion\": \"argoproj.io/v1alpha1\"\n\"kind\": \"Application\"\n\"metadata\":\n  \"labels\":\n    \"Environment\": \"dryrun\"\n    \"Project\": \"gitops-argocd\"\n    \"Stage\": \"prod\"\n  \"name\": \"gitops-app-prod\"\n  \"namespace\": \"argocd\"\n\"spec\":\n  \"destination\":\n    \"namespace\": \"apps-prod\"\n    \"server\": \"https://kubernetes.default.svc\"\n  \"project\": \"gitops-apps\"\n  \"source\":\n    \"helm\":\n      \"releaseName\": \"gitops-svc-prod\"\n      \"valuesObject\":\n        \"env\": \"prod\"\n        \"replicaCount\": 3\n    \"path\": \"helm/app\"\n    \"repoURL\": \"https://github.com/nickgulrajani/gitops-rollback\"\n    \"targetRevision\": \"HEAD\"\n  \"syncPolicy\":\n    \"automated\":\n      \"prune\": true\n      \"selfHeal\": true\n    \"syncOptions\":\n    - \"CreateNamespace=true\"\n    - \"ApplyOutOfSyncOnly=true\"\n","content_base64":null,"directory_permission":"0777","file_permission":"0777","filename":"./out/app-prod.yaml","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"local_file.app_staging_yaml","mode":"managed","type":"local_file","name":"app_staging_yaml","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"\"apiVersion\": \"argoproj.io/v1alpha1\"\n\"kind\": \"Application\"\n\"metadata\":\n  \"labels\":\n    \"Environment\": \"dryrun\"\n    \"Project\": \"gitops-argocd\"\n    \"Stage\": \"staging\"\n  \"name\": \"gitops-app-staging\"\n  \"namespace\": \"argocd\"\n\"spec\":\n  \"destination\":\n    \"namespace\": \"apps-staging\"\n    \"server\": \"https://kubernetes.default.svc\"\n  \"project\": \"gitops-apps\"\n  \"source\":\n    \"helm\":\n      \"releaseName\": \"gitops-svc-staging\"\n      \"valuesObject\":\n        \"env\": \"staging\"\n        \"replicaCount\": 2\n    \"path\": \"helm/app\"\n    \"repoURL\": \"https://github.com/nickgulrajani/gitops-rollback\"\n    \"targetRevision\": \"HEAD\"\n  \"syncPolicy\":\n    \"automated\":\n      \"prune\": true\n      \"selfHeal\": true\n    \"syncOptions\":\n    - \"CreateNamespace=true\"\n    - \"ApplyOutOfSyncOnly=true\"\n","content_base64":null,"directory_permission":"0777","file_permission":"0777","filename":"./out/app-staging.yaml","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"local_file.argocd_project_yaml","mode":"managed","type":"local_file","name":"argocd_project_yaml","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"\"apiVersion\": \"argoproj.io/v1alpha1\"\n\"kind\": \"AppProject\"\n\"metadata\":\n  \"labels\":\n    \"Environment\": \"dryrun\"\n    \"Project\": \"gitops-argocd\"\n  \"name\": \"gitops-apps\"\n  \"namespace\": \"argocd\"\n\"spec\":\n  \"clusterResourceWhitelist\":\n  - \"group\": \"*\"\n    \"kind\": \"*\"\n  \"description\": \"Project for gitops apps\"\n  \"destinations\":\n  - \"namespace\": \"apps-staging\"\n    \"server\": \"https://kubernetes.default.svc\"\n  - \"namespace\": \"apps-prod\"\n    \"server\": \"https://kubernetes.default.svc\"\n  \"namespaceResourceWhitelist\":\n  - \"group\": \"*\"\n    \"kind\": \"*\"\n  \"sourceRepos\":\n  - \"*\"\n","content_base64":null,"directory_permission":"0777","file_permission":"0777","filename":"./out/argocd-project.yaml","sensitive_content":null,"source":null},"sensitive_values":{}}]}},"resource_changes":[{"address":"local_file.app_prod_yaml","mode":"managed","type":"local_file","name":"app_prod_yaml","provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"\"apiVersion\": \"argoproj.io/v1alpha1\"\n\"kind\": \"Application\"\n\"metadata\":\n  \"labels\":\n    \"Environment\": \"dryrun\"\n    \"Project\": \"gitops-argocd\"\n    \"Stage\": \"prod\"\n  \"name\": \"gitops-app-prod\"\n  \"namespace\": \"argocd\"\n\"spec\":\n  \"destination\":\n    \"namespace\": \"apps-prod\"\n    \"server\": \"https://kubernetes.default.svc\"\n  \"project\": \"gitops-apps\"\n  \"source\":\n    \"helm\":\n      \"releaseName\": \"gitops-svc-prod\"\n      \"valuesObject\":\n        \"env\": \"prod\"\n        \"replicaCount\": 3\n    \"path\": \"helm/app\"\n    \"repoURL\": \"https://github.com/nickgulrajani/gitops-rollback\"\n    \"targetRevision\": \"HEAD\"\n  \"syncPolicy\":\n    \"automated\":\n      \"prune\": true\n      \"selfHeal\": true\n    \"syncOptions\":\n    - \"CreateNamespace=true\"\n    - \"ApplyOutOfSyncOnly=true\"\n","content_base64":null,"directory_permission":"0777","file_permission":"0777","filename":"./out/app-prod.yaml","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"local_file.app_staging_yaml","mode":"managed","type":"local_file","name":"app_staging_yaml","provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"\"apiVersion\": \"argoproj.io/v1alpha1\"\n\"kind\": \"Application\"\n\"metadata\":\n  \"labels\":\n    \"Environment\": \"dryrun\"\n    \"Project\": \"gitops-argocd\"\n    \"Stage\": \"staging\"\n  \"name\": \"gitops-app-staging\"\n  \"namespace\": \"argocd\"\n\"spec\":\n  \"destination\":\n    \"namespace\": \"apps-staging\"\n    \"server\": \"https://kubernetes.default.svc\"\n  \"project\": \"gitops-apps\"\n  \"source\":\n    \"helm\":\n      \"releaseName\": \"gitops-svc-staging\"\n      \"valuesObject\":\n        \"env\": \"staging\"\n        \"replicaCount\": 2\n    \"path\": \"helm/app\"\n    \"repoURL\": \"https://github.com/nickgulrajani/gitops-rollback\"\n    \"targetRevision\": \"HEAD\"\n  \"syncPolicy\":\n    \"automated\":\n      \"prune\": true\n      \"selfHeal\": true\n    \"syncOptions\":\n    - \"CreateNamespace=true\"\n    - \"ApplyOutOfSyncOnly=true\"\n","content_base64":null,"directory_permission":"0777","file_permission":"0777","filename":"./out/app-staging.yaml","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"local_file.argocd_project_yaml","mode":"managed","type":"local_file","name":"argocd_project_yaml","provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"\"apiVersion\": \"argoproj.io/v1alpha1\"\n\"kind\": \"AppProject\"\n\"metadata\":\n  \"labels\":\n    \"Environment\": \"dryrun\"\n    \"Project\": \"gitops-argocd\"\n  \"name\": \"gitops-apps\"\n  \"namespace\": \"argocd\"\n\"spec\":\n  \"clusterResourceWhitelist\":\n  - \"group\": \"*\"\n    \"kind\": \"*\"\n  \"description\": \"Project for gitops apps\"\n  \"destinations\":\n  - \"namespace\": \"apps-staging\"\n    \"server\": \"https://kubernetes.default.svc\"\n  - \"namespace\": \"apps-prod\"\n    \"server\": \"https://kubernetes.default.svc\"\n  \"namespaceResourceWhitelist\":\n  - \"group\": \"*\"\n    \"kind\": \"*\"\n  \"sourceRepos\":\n  - \"*\"\n","content_base64":null,"directory_permission":"0777","file_permission":"0777","filename":"./out/argocd-project.yaml","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}}],"output_changes":{"gitops_summary":{"actions":["create"],"before":null,"after":{"chart_path":"helm/app","namespaces":["apps-staging","apps-prod"],"prod_file":"./out/app-prod.yaml","project_file":"./out/argocd-project.yaml","repo_url":"https://github.com/nickgulrajani/gitops-rollback","staging_file":"./out/app-staging.yaml"},"after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.6.6","values":{"outputs":{"gitops_summary":{"sensitive":false,"value":{"chart_path":"helm/app","namespaces":["apps-staging","apps-prod"],"prod_file":"./out/app-prod.yaml","project_file":"./out/argocd-project.yaml","repo_url":"https://github.com/nickgulrajani/gitops-rollback","staging_file":"./out/app-staging.yaml"},"type":["object",{"chart_path":"string","namespaces":["tuple",["string","string"]],"prod_file":"string","project_file":"string","repo_url":"string","staging_file":"string"}]}},"root_module":{}}},"configuration":{"provider_config":{"local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"~\u003e 2.5"}},"root_module":{"outputs":{"gitops_summary":{"expression":{"references":["local_file.argocd_project_yaml.filename","local_file.argocd_project_yaml","local_file.app_staging_yaml.filename","local_file.app_staging_yaml","local_file.app_prod_yaml.filename","local_file.app_prod_yaml","var.repo_url","var.chart_path"]}}},"resources":[{"address":"local_file.app_prod_yaml","mode":"managed","type":"local_file","name":"app_prod_yaml","provider_config_key":"local","expressions":{"content":{"references":["local.app_prod"]},"filename":{"references":["local.out_dir"]}},"schema_version":0},{"address":"local_file.app_staging_yaml","mode":"managed","type":"local_file","name":"app_staging_yaml","provider_config_key":"local","expressions":{"content":{"references":["local.app_staging"]},"filename":{"references":["local.out_dir"]}},"schema_version":0},{"address":"local_file.argocd_project_yaml","mode":"managed","type":"local_file","name":"argocd_project_yaml","provider_config_key":"local","expressions":{"content":{"references":["local.argocd_project"]},"filename":{"references":["local.out_dir"]}},"schema_version":0}],"variables":{"chart_path":{"default":"helm/app","description":"Path inside repo to the Helm chart or manifests"},"enable_gitops":{"default":true,"description":"Toggle (declared to avoid warnings); not used in dry run"},"environment":{"default":"dryrun","description":"Environment tag/name"},"name_prefix":{"default":"gitops","description":"Prefix for names"},"project":{"default":"gitops-argocd","description":"Project tag/name"},"repo_url":{"default":"https://github.com/nickgulrajani/gitops-rollback","description":"Git repo URL tracked by Argo CD"}}}},"relevant_attributes":[{"resource":"local_file.argocd_project_yaml","attribute":["filename"]},{"resource":"local_file.app_staging_yaml","attribute":["filename"]},{"resource":"local_file.app_prod_yaml","attribute":["filename"]}],"timestamp":"2025-08-25T16:40:26Z","errored":false}
